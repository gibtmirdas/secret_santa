{"version":3,"sources":["components/Import.tsx","components/Persons.tsx","App.tsx","index.tsx"],"names":["Import","imported","useState","input","setinput","className","title","xmlns","version","width","height","viewBox","d","placeholder","onChange","e","currentTarget","value","disabled","length","onClick","persons","split","buildPersonSantas","shuffledPersons","array","i","j","Math","floor","random","temp","shuffleArray","personSantas","forEach","p","push","s","Persons","sorted","sort","a","b","localeCompare","ps","element","document","createElement","dataExport","map","join","file","Blob","type","href","URL","createObjectURL","download","body","appendChild","click","generateFile","PersonRow","App","setPersons","cx","cy","fill","r","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c1f211ff.chunk.js","sourcesContent":["import React, { useState } from 'react';\n\ntype ImportProps = {\n    imported: (persons: string[]) => void,\n}\n\nexport default function Import({ imported }: ImportProps) {\n    const [input, setinput] = useState('');\n\n    const inputChanged = (e: React.FormEvent<HTMLInputElement>) => {\n        setinput(e.currentTarget.value);\n    }\n\n    const importInput = () => {\n        const persons = input.split(',');\n        imported(persons);\n    }\n\n    return <div className=\"import\">\n        <label title=\"csv format, ex: p1,p2,p3\">\n            add users:\n            <div className='import__icon'>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"12\" height=\"12\" viewBox=\"0 0 24 24\"><path d=\"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z\" /></svg>\n            </div>\n        </label>\n        <input placeholder=\"aaa,bbb,cccc\" onChange={inputChanged}>\n        </input>\n        <button disabled={input.length === 0} onClick={importInput}>Import</button>\n    </div >\n}","import React from 'react';\n\ninterface PersonSanta {\n  p: string;\n  s: string;\n}\n\ntype PersonsProps = {\n  persons: string[]\n}\n\nconst shuffleArray = (array: string[]): string[] => { // Sattolo's algorithm\n  for (let i = array.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * i);\n    const temp = array[i];\n    array[i] = array[j];\n    array[j] = temp;\n  }\n  return array;\n}\n\nconst PersonRow = (ps: PersonSanta) => <div className='p-row' key={ps.s}>\n  <div className='s'>{ps.s}</div>\n  <div className='p'>{ps.p}</div>\n</div>\n\nconst buildPersonSantas = (persons: string[]): PersonSanta[] => {\n  const shuffledPersons = shuffleArray(persons);\n  const personSantas: PersonSanta[] = [];\n\n  shuffledPersons.forEach((p: string, i: number) => personSantas.push({ p, s: shuffledPersons[(i + 1) % (shuffledPersons.length)] }))\n\n  return personSantas;\n}\n\nfunction Persons({ persons }: PersonsProps) {\n  if (!persons || persons.length === 0) {\n    return <div></div>;\n  }\n  const PersonSantas: PersonSanta[] = buildPersonSantas(persons);\n\n\n  const generateFile = (ps: PersonSanta[]) => {\n    const element = document.createElement(\"a\");\n    let dataExport: string = \"santas,targets\\n\";\n    dataExport += ps.map((p) => `${p.s},${p.p}`).join('\\n');\n    const file = new Blob([dataExport], { type: 'text/plain' });\n    element.href = URL.createObjectURL(file);\n    element.download = \"santas.csv\";\n    document.body.appendChild(element); // Required for this to work in FireFox\n    element.click();\n  }\n\n  const sort = (a: PersonSanta, b: PersonSanta): number => {\n    return a.s.localeCompare(b.s);\n  }\n  const sorted = PersonSantas.sort(sort);\n\n  return (\n    <>\n      <button className='submit' onClick={() => generateFile(sorted)}>export csv</button>\n      <div className='p-row p-row__header' key={0}>\n        <div className='s'>santas</div>\n        <div className='p'>targets</div>\n      </div>\n      {sorted.map((ps: PersonSanta) =>\n        PersonRow(ps)\n      )}\n    </>\n  );\n}\n\nexport default Persons;\n","import React, { useState } from 'react';\nimport './App.scss';\nimport Import from './components/Import';\nimport Persons from \"./components/Persons\";\n\nfunction App() {\n\n  const [persons, setPersons] = useState<string[]>([]);\n\n  const imported = (ps: string[]): void => {\n    setPersons(ps);\n  }\n\n  return (\n    <div className=\"App\">\n      <div className=\"santa-logo\">\n        <svg enable-background=\"new 0 0 475 512.025\" viewBox=\"0 0 475 512.025\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"237.5\" cy=\"274.525\" fill=\"#8cd9f4\" r=\"237.5\" /><path d=\"m47 380.888s-4-33.272 9-54.661 47-20.201 47-20.201h212.524c2.705-23.301 11.613-51.346 38.299-57.002 36.848-7.809 90.961 11.825 118.894 58.426 1.493-10.763 2.283-21.752 2.283-32.926 0-131.168-106.332-237.5-237.5-237.5s-237.5 106.333-237.5 237.501c0 53.175 17.479 102.267 47 141.849z\" fill=\"none\" /><path d=\"m353.823 249.025c-26.686 5.656-35.594 33.701-38.299 57.002h36.476s29 0 40 20.201 9 79.615 9 79.615v40.938c38.067-36.144 64.15-84.775 71.717-139.329-27.933-46.602-82.046-66.236-118.894-58.427z\" fill=\"#7c1118\" /><path d=\"m392 326.228c-11-20.201-40-20.201-40-20.201h-36.476-212.524s-36.154-2.357-47 20.201c-10 20.797-9 54.661-9 54.661v35.486c43.299 58.055 112.508 95.651 190.5 95.651 63.357 0 120.916-24.812 163.5-65.245v-40.938c0-.001 2-59.415-9-79.615z\" fill=\"#d3222f\" /><path d=\"m103 154.025h212v103h-212z\" fill=\"#efd8c5\" /><circle cx=\"144.5\" cy=\"197.525\" r=\"9.5\" /><circle cx=\"206.5\" cy=\"197.525\" r=\"9.5\" /><path d=\"m114 133.025h182s4-21 30-22 37 9 43 16 18 27 18 27 5-90-42-127-117-32-161-9-71 61-70 115z\" fill=\"#d3222f\" /><g fill=\"#fff\"><path d=\"m205.5 122.525h105s5 1 8 5 4.079 31.941 0 35c-4 3-113 2-113 2h-99s-9-1-12-5-2-20.292-2-27c0-3 .766-6.267 4-8 3.707-1.986 11.957-2 16.163-2z\" /><circle cx=\"383\" cy=\"159.025\" r=\"25\" /><path d=\"m102 150.025v136.854c0 23.082 6.391 45.813 19 65.146 15 23 41 46 85 46 39.111 0 64.988-18.963 81.668-40.033 17.939-22.66 27.332-50.914 27.332-79.815v-128.152h-13.972v86h-188.028v-86z\" /><circle cx=\"208\" cy=\"436.025\" r=\"11\" /><circle cx=\"209\" cy=\"479.025\" r=\"11\" /></g></svg>\n      </div>\n      <Import imported={imported} />\n      <Persons persons={persons} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}